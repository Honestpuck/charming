<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
 "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <link rel="stylesheet" type="text/css" media="screen, projection, print"
    href="http://www.w3.org/Talks/Tools/Slidy2/styles/slidy.css" />
  <script src="http://www.w3.org/Talks/Tools/Slidy2/scripts/slidy.js"
    charset="utf-8" type="text/javascript"></script>
</head>
<body>
<div id="section" class="slide section level3">
<h1></h1>
<h4 id="talking-to-jss">Talking To JSS</h4>
<p>First we get our JSS object</p>
<pre><code>import jss
jss_prefs = jss.JSSPrefs()
j = jss.JSS(jss_prefs)</code></pre>
<p>Get the computer list</p>
<pre><code>j.Computer()</code></pre>
<p>Notice that python-jss pretty prints the list. Note also that it doesn't retrieve all the information, just the name and id.</p>
</div>
<div id="section-1" class="slide section level3">
<h1></h1>
<p>Put the result in a variable and format it yourself.</p>
<pre><code>computers = j.Computer()
for i in computers:
    print &quot;id:&quot;+str(i.id)+&quot; name:&quot;+i.name</code></pre>
<p>Now get the record of one computer. Rhis will get <strong>all</strong> the record.</p>
<pre><code>example = j.Computer(193)
example</code></pre>
</div>
<div id="section-2" class="slide section level3">
<h1></h1>
<p>We can view that with <code>less</code> using the <code>page</code> magic.</p>
<pre><code>page example</code></pre>
<p>Some information is easily retrieved</p>
<pre><code>example.serial_number
example.mac_addresses</code></pre>
<p>Other information requires some XML work. XML is a tree of nodes and we have to work with those nodes.</p>
</div>
<div id="section-3" class="slide section level3">
<h1></h1>
<p>Let's get a list of installed applications. <code>findall()</code> will return a list of nodes that match our search string. <code>find()</code> returns a single child node that matches.</p>
<pre><code>x = example.findall(&#39;.//application&#39;)
for i in x:
    nm = i.find(&#39;name&#39;)
    ver = i.find(&#39;version&#39;)
    path = i.find(&#39;path&#39;)
    print nm.text, ver.text, path.text</code></pre>
<p>Rather than print it let's gather the info.</p>
<pre><code>o = []
for i in x:
    nm = i.find(&#39;name&#39;)
    ver = i.find(&#39;version&#39;)
    path = i.find(&#39;path&#39;)
    o.append(&#39; &#39;.join([nm.text, ver.text, path.text]))
o</code></pre>
</div>
<div id="further-examples" class="slide section level3">
<h1>Further examples</h1>
<pre><code>model = comp.findall(&#39;.//hardware/model_identifier&#39;)
model[0].text
os = comp.findall(&#39;.//os_version&#39;)
os[0].text</code></pre>
<p>all_computers = j.Computer().retrieve_all()</p>
</div>
</body>
</html>
